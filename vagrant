# This is the Vagrant file which will be used to start up vagant
# We will be installing Ubuntu
# We will be using a static IP and forwarding the port 80 to our localhost 8080

Vagrant.configure(2) do |config|

  config.ssh.forward_agent = true
  config.vm.define "ubuntu" do |ubuntu|

    ubuntu.vm.hostname = "ubuntu"

    ubuntu.vm.box = "ubuntu/trusty64"

config.ssh.insert_key = false

  config.vm.provision "ansible" do |ansible|
    ansible.verbose = "v"
    ansible.playbook = "devops.yml"
    end

config.vm.network "forwarded_port", guest: 80, host: 8080

    ubuntu.vm.network "private_network", ip: "192.168.0.23"

    ubuntu.vm.provider "virtualbox" do |vd|

        vd.customize ["modifyvm", :id, "--memory", "1024"]

        vd.customize ["modifyvm", :id, "--cpus", "1"]

     end

   end
end
